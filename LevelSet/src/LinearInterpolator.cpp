//-----------------------------------------------------------------------------------------------------------------------------
#include "LinearInterpolator.h"
//-----------------------------------------------------------------------------------------------------------------------------
using namespace kmd;


//=============================================================================================================================
LinearInterpolator::LinearInterpolator()
//=============================================================================================================================
        : a0_(0.0),
          a1_(0.0),
          a2_(0.0),
          a3_(0.0),
          b0_(0.0),
          b1_(0.0),
          b2_(0.0) {
}

//=============================================================================================================================
LinearInterpolator::~LinearInterpolator() {
//=============================================================================================================================
}

// test ok
//=============================================================================================================================
void LinearInterpolator::set_value(double a0, double a1, double a2, double a3) {
//=============================================================================================================================
        a0_ = a0;
        a1_ = a1;
        a2_ = a2;
        a3_ = a3;
}

// test ok
//=============================================================================================================================
void LinearInterpolator::run() {
//=============================================================================================================================

        b0_ = -a0_ + a3_;
        b1_ = a0_ - a1_ + a2_ - a3_;
        b2_ = a0_ - a1_;


}

#ifdef UNIT_TEST_LinearInterpolator
#define BOOST_TEST_DYN_LINK
//----------------------------------------------------------------------------------------------------------------------------
#include <kmd/without_warning/unit_test.h>
#include <iostream>
//----------------------------------------------------------------------------------------------------------------------------
using namespace std;

//============================================================================================================================
BOOST_AUTO_TEST_CASE(TEST_LinearInterpolator) {
//============================================================================================================================

        cout << "LinearInterpolator\n";

        LinearInterpolator interpolation;
        interpolation.set_value(-1.0, 2.0, -0.5, 1.0);
        interpolation.run();
/*
        cout << interpolation.get_y_value(1.0) << endl;
        cout << interpolation.get_y_value(0.0) << endl;
        cout << interpolation.get_x_value(1.0) << endl;
        cout << interpolation.get_x_value(0.0) << endl;
*/
        double a = interpolation.get_y_value(1.0);
        BOOST_CHECK(0 <= a && a <= 1.0);
        a = interpolation.get_y_value(0.0);
        BOOST_CHECK(0 <= a && a <= 1.0);
        a = interpolation.get_x_value(1.0);
        BOOST_CHECK(0 <= a && a <= 1.0);
        a = interpolation.get_x_value(0.0);
        BOOST_CHECK(0 <= a && a <= 1.0);

}
#endif // UNIT_TEST_LinearInterpolator
